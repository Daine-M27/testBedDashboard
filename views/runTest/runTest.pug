extends ..\\layout

block content
  h1 Run Test Page
  p #{title}

  h2 Instrument Network Status
  #instrumentPanel
    each instrument in instruments
      ul
        li=(instrument.address).replace('TCPIP0::', '')
        if ((instrument.deviceReading).includes('Error:') === true)
          li.error=(instrument.deviceReading).replace(/,/g, ', ')
        else 
          li.positive=(instrument.deviceReading).replace(/,/g, ', ')
  br
  br
  h2 Power Supply Configuration
  p
    ul
      for item in status
        if item === status.Config  
          for configItem in status.Config
            li.positive=configItem
        else
          li.positive=item
  br
  br

  h2 Is LED Board Connected?
  button(type='button' id='confirmConnected') Confirmed
  

  br
  br
  h2 Choose Test
  form(action='\\runTest\\startTest', method='post')        
    select(name='TestTemplateId', id='templateDropDown', required)
      option(value='', selected, disabled, hidden)='Choose Test Template Here'
        each template in templates
          option(value=template.Id)= template.TestName
    br
    br
    p.hidden      
    input(id='submit' type='submit', value='Start Test', disabled)

    append scripts
        script(src="\\javascript\\runTest.js")